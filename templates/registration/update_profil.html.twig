{% extends 'base.html.twig' %}

{% block title %}Modification
{% endblock %}

{% block importmap %}
    {{ importmap(['updateProfil']) }}
{% endblock %}

{% block body %}
    <div class="font-[sans-serif] max-w-3xl items-center mx-auto md:h-screen p-4 mt-10">
        <div class="grid md:grid-cols-3 items-center shadow-[0_2px_10px_-3px_rgba(6,81,237,0.3)] rounded-xl overflow-hidden">
            <div class="max-md:order-1 flex flex-col justify-center space-y-16 max-md:mt-16 min-h-full bg-gradient-to-r from-cyan-950 to-cyan-700 lg:px-8 px-4 py-4">
                <div>
                    <h6 class="text-amber-400 text-sm text-left font-semibold">Modifier votre profil</h6>
                    <p class="text-[12px] italic text-white text-left mt-2 leading-relaxed">Bienvenue</p>
                    <p class="text-[12px] italic text-white text-left mt-2 leading-relaxed">Photo obligatoire</p>
                    <ul id="allowState">
                        <li id="allowPseudo" class="text-[12px] italic mt-1 ml-3 leading-relaxed"></li>
                        <li id="allowPhone" class="text-[12px] italic mt-1 ml-3 leading-relaxed"></li>
                        <li id="allowPhoto" class="text-[12px] italic mt-1 ml-3 leading-relaxed"></li>
                    </ul>
                </div>
                <div>
                    <h6 class="text-white text-sm font-semibold text-left">Indications :</h6>
                    <p id="message" class="text-sm italic text-yellow-200 mt-2 leading-relaxed"></p>
                    <p id="messageBis" class="text-sm italic text-yellow-200 mt-2 leading-relaxed"></p>
                    <div class="ml-4">

                    </div>
                </div>
            </div>
            {{ form_start(updateProfilForm, {attr: {
                class: "bg-white md:col-span-2 w-full py-6 px-6 sm:px-16",
                novalidate: "novalidate",
                id: "updateProfilForm"
            }
            })
            }}
            <div class="mb-4">
                <h3 class=" text-2xl  text-center font-thin text-cyan-800">Modification</h3>
            </div>

            <div class="space-y-3">
                <div class="mt-0">
                    {{ form_label(updateProfilForm.login) }}
                    <div class="relative group flex items-center">
                        {{ form_widget(updateProfilForm.login, {attr: {placeholder: user.login }}) }}
                        <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-max px-2 py-1 text-sm text-white bg-gray-700 rounded shadow-lg opacity-0 group-hover:opacity-100">
                            Max 30 caract√®res finis par # et 2 chiffres
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="currentColor" class="w-4 h-4 absolute right-4 cursor-pointer mb-2" >
                            <path d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"></path>
                        </svg>
                    </div>

                    <div class="text-xs text-red-700">
                        {{ form_errors(updateProfilForm.login) }}
                    </div>
                </div>
                <div>
                    {{ form_label(updateProfilForm.phone) }}
                    <div class="relative group flex items-center">
                        {{ form_widget(updateProfilForm.phone,{attr:{placeholder:user.phone }}) }}
                        <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-max px-2 py-1 text-sm text-white bg-gray-700 rounded shadow-lg opacity-0 group-hover:opacity-100">
                            10 chiffres ex : 0145687899
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="currentColor" class="w-4 h-4 absolute right-4 cursor-pointer mb-2">
                            <path fill-rule="evenodd" d="M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <div class="text-xs text-red-700">
                        {{ form_errors(updateProfilForm.phone) }}
                    </div>
                </div>
                <div>
                    {{ form_label(updateProfilForm.portrait) }}
                    <div class="relative flex items-center w-full">
                        {{form_widget(updateProfilForm.portrait)}}
                    </div>
                    <div class="text-xs text-red-700">
                        <p class="text-center" id="error"></p>
                        {{ form_errors(updateProfilForm.portrait) }}
                    </div>
                </div>
                <div class="relative flex items-center">
                    <div class="ml-16">
                        <img id="image" class="h-42 w-52 object-fill shadow-lg rounded-md" src="" alt="">
                    </div>
                </div>

            </div>
            <div class=" mt-8">
                <button type="submit" id="modification_form_submit" class="btn-retour">
                    Modifier le profil
                </button>
            </div>

            {{ form_end(updateProfilForm) }}

        </div>
    </div>

{% endblock %}

